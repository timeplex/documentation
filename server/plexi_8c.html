<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>plexi: /home/gexarchakos/projects/contiki-public/apps/plexi/plexi.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">plexi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">/home/gexarchakos/projects/contiki-public/apps/plexi/plexi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;er-coap-engine.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="plexi_8h_source.html">plexi.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="plexi-conf_8h_source.html">plexi-conf.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="plexi-interface_8h_source.html">plexi-interface.h</a>&quot;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="plexi-rpl_8h_source.html">plexi-rpl.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="plexi-neighbors_8h_source.html">plexi-neighbors.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="plexi-tsch_8h_source.html">plexi-tsch.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="plexi-link-statistics_8h_source.html">plexi-link-statistics.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="plexi-queue-statistics_8h_source.html">plexi-queue-statistics.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a146916d944fd1adb5c0621bbf4ded47b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plexi_8c.html#a146916d944fd1adb5c0621bbf4ded47b">plexi_init</a> ()</td></tr>
<tr class="memdesc:a146916d944fd1adb5c0621bbf4ded47b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Landing initialization function of plexi. Call from application to start plexi.  <a href="#a146916d944fd1adb5c0621bbf4ded47b">More...</a><br/></td></tr>
<tr class="separator:a146916d944fd1adb5c0621bbf4ded47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66816c58859a08c08e146b845d7927a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plexi_8c.html#ac66816c58859a08c08e146b845d7927a">plexi_json_find_field</a> (struct jsonparse_state *js, char *field_buf, int field_buf_len)</td></tr>
<tr class="memdesc:ac66816c58859a08c08e146b845d7927a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function. Searches for a field in a json object.  <a href="#ac66816c58859a08c08e146b845d7927a">More...</a><br/></td></tr>
<tr class="separator:ac66816c58859a08c08e146b845d7927a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ac31ea54f2d987eecfc423189f9afa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plexi_8c.html#a86ac31ea54f2d987eecfc423189f9afa">plexi_eui64_to_linkaddr</a> (const char *na_inbuf, int bufsize, linkaddr_t *linkaddress)</td></tr>
<tr class="memdesc:a86ac31ea54f2d987eecfc423189f9afa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function. Converts na field (string containing the lower 64bit of the IPv6) to 64-bit MAC.  <a href="#a86ac31ea54f2d987eecfc423189f9afa">More...</a><br/></td></tr>
<tr class="separator:a86ac31ea54f2d987eecfc423189f9afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a68c6e05a0a3877e232ba859b1f3124"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plexi_8c.html#a7a68c6e05a0a3877e232ba859b1f3124">plexi_linkaddr_to_eui64</a> (char *buf, linkaddr_t *addr)</td></tr>
<tr class="memdesc:a7a68c6e05a0a3877e232ba859b1f3124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function. Converts a 64-bit MAC address to a EUI-64 IP address stored in a char array.  <a href="#a7a68c6e05a0a3877e232ba859b1f3124">More...</a><br/></td></tr>
<tr class="separator:a7a68c6e05a0a3877e232ba859b1f3124"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad8867aa3fbd58003088163f6f7c86d47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plexi_8c.html#ad8867aa3fbd58003088163f6f7c86d47">plexi_reply_content_len</a> = 0</td></tr>
<tr class="memdesc:ad8867aa3fbd58003088163f6f7c86d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of <a class="el" href="plexi_8h.html#a21d034a7c2ccf4cd8fc764ac42a42071">plexi_reply_content</a> buffer.  <a href="#ad8867aa3fbd58003088163f6f7c86d47">More...</a><br/></td></tr>
<tr class="separator:ad8867aa3fbd58003088163f6f7c86d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>plexi is a CoAP interface of IEEE802.15.4 PHY, MAC (incl. TSCH) and RPL resources. Link quality metrics (ETX, RSSI, LQI), schedule properties (ASN, slotFrames and cells), DoDAG structure (parents, children) are monitored, observed or modified. (refer to "plexi: Adaptive re-scheduling web service of time synchronized low-power wireless networksÂ¨, JNCA, Elsevier)</p>
<dl class="section author"><dt>Author</dt><dd>Georgios Exarchakos <a href="#" onclick="location.href='mai'+'lto:'+'g.e'+'xa'+'rch'+'ak'+'os@'+'tu'+'e.n'+'l'; return false;">g.exa<span style="display: none;">.nosp@m.</span>rcha<span style="display: none;">.nosp@m.</span>kos@t<span style="display: none;">.nosp@m.</span>ue.n<span style="display: none;">.nosp@m.</span>l</a> </dd>
<dd>
Ilker Oztelcan <a href="#" onclick="location.href='mai'+'lto:'+'i.o'+'zt'+'elc'+'an'+'@tu'+'e.'+'nl'; return false;">i.ozt<span style="display: none;">.nosp@m.</span>elca<span style="display: none;">.nosp@m.</span>n@tue<span style="display: none;">.nosp@m.</span>.nl</a> </dd>
<dd>
Dimitris Sarakiotis <a href="#" onclick="location.href='mai'+'lto:'+'d.s'+'ar'+'aki'+'ot'+'is@'+'tu'+'e.n'+'l'; return false;">d.sar<span style="display: none;">.nosp@m.</span>akio<span style="display: none;">.nosp@m.</span>tis@t<span style="display: none;">.nosp@m.</span>ue.n<span style="display: none;">.nosp@m.</span>l</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a86ac31ea54f2d987eecfc423189f9afa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plexi_eui64_to_linkaddr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>na_inbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bufsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">linkaddr_t *&#160;</td>
          <td class="paramname"><em>linkaddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function. Converts na field (string containing the lower 64bit of the IPv6) to 64-bit MAC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">na_inbuf</td><td>An array of characters containing the EUI64 address. It should be null-terminated i.e. '\0' </td></tr>
    <tr><td class="paramname">bufsize</td><td>The size of na_inbuf in number of characters </td></tr>
    <tr><td class="paramname">linkaddress</td><td>Pointer to the linkaddr_t variable in which the result will be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Conversion failed </td></tr>
    <tr><td class="paramname">1</td><td>Coversion was successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a146916d944fd1adb5c0621bbf4ded47b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plexi_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Landing initialization function of plexi. Call from application to start plexi. </p>
<p>plexi enables/disables the various modules based on <a class="el" href="plexi-conf_8h.html">plexi-conf.h</a> plexi may be used for RPL even if TSCH is not running. Symmetrically, plexi can interact with TSCH even if RPL is not present. However, to monitor neighbors or link and queue statistics TSCH should be running. </p>

</div>
</div>
<a class="anchor" id="ac66816c58859a08c08e146b845d7927a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plexi_json_find_field </td>
          <td>(</td>
          <td class="paramtype">struct jsonparse_state *&#160;</td>
          <td class="paramname"><em>js</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>field_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>field_buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function. Searches for a field in a json object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">js</td><td>Pointer to the input json object </td></tr>
    <tr><td class="paramname">field_buf</td><td>Char array containing the name of the field to be found </td></tr>
    <tr><td class="paramname">field_buf_len</td><td>The length of the field in number of characters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the json type of the field field_buf or 0 if field not found</dd></dl>
<p>For more information on json types see apps/json/jsonparse.h </p>

</div>
</div>
<a class="anchor" id="a7a68c6e05a0a3877e232ba859b1f3124"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plexi_linkaddr_to_eui64 </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">linkaddr_t *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function. Converts a 64-bit MAC address to a EUI-64 IP address stored in a char array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The array of characters containing the EUI64 address in hexadecimal form. It should be of no less than 20 characters long. </td></tr>
    <tr><td class="paramname">addr</td><td>Pointer to the linkaddr_t variable which will be converted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Conversion failed </td></tr>
    <tr><td class="paramname">1</td><td>Coversion was successful </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ad8867aa3fbd58003088163f6f7c86d47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plexi_reply_content_len = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Length of <a class="el" href="plexi_8h.html#a21d034a7c2ccf4cd8fc764ac42a42071">plexi_reply_content</a> buffer. </p>
<p><a class="el" href="plexi_8h.html#a21d034a7c2ccf4cd8fc764ac42a42071">plexi_reply_content</a> is not a null terminated string and this keeps track of the last character. Note that <a class="el" href="plexi_8h.html#ad8867aa3fbd58003088163f6f7c86d47">plexi_reply_content_len</a> &le; <a class="el" href="plexi-conf_8h.html#a0c00a96baa89438d6b732b92a1ba11b9">MAX_DATA_LEN</a>. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="plexi_8h.html#a21d034a7c2ccf4cd8fc764ac42a42071" title="Buffer of characters containing the payload of CoAP replies. ">plexi_reply_content</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 2 2016 12:18:57 for plexi by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
